<!DOCTYPE HTML>
<!--
	Prologue by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>Prologue by HTML5 UP</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="../../assets/css/main.css" />
</head>

<body class="is-preload">

	<!-- Header -->
	<div id="header">

		<div class="top">

			<!-- Logo -->
			<div id="logo">
				<span class="image avatar48"><img src="images/avatar.jpg" alt="" /></span>
				<h1 id="title">Jane Doe</h1>
				<p>Hyperspace Engineer</p>
			</div>

			<!-- Nav -->
			<nav id="nav">
				<ul>
					<li><a href="#top" id="top-link"><span class="icon solid fa-home">Intro</span></a></li>
					<li><a href="#portfolio" id="portfolio-link"><span class="icon solid fa-th">Portfolio</span></a>
					</li>
					<li><a href="#about" id="about-link"><span class="icon solid fa-user">About Me</span></a></li>
					<li><a href="#contact" id="contact-link"><span class="icon solid fa-envelope">Contact</span></a>
					</li>
				</ul>
			</nav>

		</div>

		<div class="bottom">

			<!-- Social Icons -->
			<ul class="icons">
				<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
				<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
				<li><a href="#" class="icon brands fa-github"><span class="label">Github</span></a></li>
				<li><a href="#" class="icon brands fa-dribbble"><span class="label">Dribbble</span></a></li>
				<li><a href="#" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
			</ul>

		</div>

	</div>

	<!-- Main -->
	<div id="main">

		<!-- Intro -->
		<section id="top" class="one dark cover">
			<div class="container">

				<header>
					<h2 class="alt">proxy</h2>
					<p></p>
				</header>
				<div>

					代理：proxy
					增强（扩展）对象的一些功能

					get

					set

					has

					deleteProperty

					apply

					反射：Reflect

					直接拿到语言本身的方法。比较多，以后会扩展越来越多的功能

					<!DOCTYPE html>
					<html>
					  

					<head>
						    
						<meta charset="utf-8">
						    <title></title>
						  </head>
					  

					<body>
						    
						<script type="text/javascript">
							//********* 生产dom元素 ********
							const DOM = new Proxy({}, {
								get(target, property) {
									//property 就是dom.xxx ；就是 xxx DOM元素
									return function (attr = {}, ...children) {
										const el = document.createElement(property);
										//添加属性
										for (let key of Object.keys(attr)) {
											el.setAttribute(key, attr[key]);
										}
										//添加子元素
										for (let child of children) {
											if (typeof child == "string") {
												child = document.createTextNode(child);
											}
											el.appendChild(child);
										}
										return el;
									}
								}
							})
							let odiv = DOM.div(
								{ id: "div1" }, "content ,我是div", "哈哈哈",
								DOM.a({ id: "a1", href: "www.baidu.com" }, "我是一个a链接"),
								"。。。继续。。。"
							);
							document.body.appendChild(odiv);
							// -------------------------------------------
							//******************* proxy reflect
							function sum(a, b) {
								return a + b;
							}
							let newSum = new Proxy(sum, {
								apply(target, content, args) {
									return Reflect.apply(...arguments);
								}
							})
								// -----------------------

								; (function learnproxy() {
									console.log("代理proxy 学习：：：");
									let obj = {
										name: "obj"
									};
									let newobj = new Proxy(obj, {
										get(target, property) {
											console.log(" proxy get --- ")
											console.log(target, property);
											return target[property]
										}
									})
									newobj.name;
								}())
							console.log(Reflect.has(Object, 'assign'))
							console.log("===============")
							var person = {
								name: "张三"
							};
							var proxy = new Proxy(person, {
								get: function (target, property) {
									if (property in target) {
										console.log(target)
										return target[property];
									} else {
										throw new ReferenceError("Property \"" + property + "\" does not exist.");
									}
								}
							});
							proxy.name; // "张三"
							//proxy.age; // 抛出一个错误
							let obj = {
								foo: "hahaha"
							};
							let proto = new Proxy(obj, {
								get(target, propertyKey, receiver) {
									console.log('GET ' + propertyKey);
									//console.log(target)
									return target[propertyKey];
								}
							});

							//obj = Object.create(proto);
							console.log(obj)
							//; // "GET foo"
							console.log(obj.foo);



							function* gen(x) {
								try {
									var y = yield x + 2;
								} catch (e) {
									console.log(e);
								}
								return y;
							}
							var g = gen(1);
							g.next();
      //g.throw('出错了');
						</script>
						  </body>

					</html>


				</div>
				<footer>
					--
				</footer>
			</div>
		</section>

	</div>

	<!-- Footer -->
	<div id="footer"> </div>

	<!-- Scripts -->
	<script src="../../assets/js/jquery.min.js"></script>
	<script src="../../assets/js/jquery.scrolly.min.js"></script>
	<script src="../../assets/js/jquery.scrollex.min.js"></script>
	<script src="../../assets/js/browser.min.js"></script>
	<script src="../../assets/js/breakpoints.min.js"></script>
	<script src="../../assets/js/util.js"></script>
	<script src="../../assets/js/main.js"></script>

</body>

</html>