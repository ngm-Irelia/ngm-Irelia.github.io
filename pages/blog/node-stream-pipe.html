<!DOCTYPE HTML>
<!--
	Prologue by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>Prologue by HTML5 UP</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="../../assets/css/main.css" />
</head>

<body class="is-preload">

	<!-- Header -->
	<div id="header">

		<div class="top">

			<!-- Logo -->
			<div id="logo">
				<span class="image avatar48"><img src="images/avatar.jpg" alt="" /></span>
				<h1 id="title">Jane Doe</h1>
				<p>Hyperspace Engineer</p>
			</div>

			<!-- Nav -->
			<nav id="nav">
				<ul>
					<li><a href="#top" id="top-link"><span class="icon solid fa-home">Intro</span></a></li>
					<li><a href="#portfolio" id="portfolio-link"><span class="icon solid fa-th">Portfolio</span></a>
					</li>
					<li><a href="#about" id="about-link"><span class="icon solid fa-user">About Me</span></a></li>
					<li><a href="#contact" id="contact-link"><span class="icon solid fa-envelope">Contact</span></a>
					</li>
				</ul>
			</nav>

		</div>

		<div class="bottom">

			<!-- Social Icons -->
			<ul class="icons">
				<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
				<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
				<li><a href="#" class="icon brands fa-github"><span class="label">Github</span></a></li>
				<li><a href="#" class="icon brands fa-dribbble"><span class="label">Dribbble</span></a></li>
				<li><a href="#" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
			</ul>

		</div>

	</div>

	<!-- Main -->
	<div id="main">

		<!-- Intro -->
		<section id="top" class="one dark cover">
			<div class="container">

				<header>
					<h2 class="alt">node</h2>
					<p></p>
				</header>
				<div>

					stream 是nodejs提供的流数据结构
					文件流读取文本内容： fs.createReadStream('文件名', '编码方式')

					stream也是一个对象，有三个事件：
					data   事件表示流的数据已经可以读取；
					end    事件表示这个流已经到结束；
					error 事件表示出错。

					var fs = require('fs');

					// 打开一个流:
					var rs = fs.createReadStream('test.json', 'utf-8');

					rs.on('data', function (chunk) {
					console.log('DATA:')
					console.log(chunk);
					});

					rs.on('end', function () {
					console.log('END');
					});

					rs.on('error', function (err) {
					console.log(err);
					});
					data事件可能会有多次，每次传递的chunk是流的一部分数据。

					以流的形式写入文件： fs.createWriteStream('文件名', '编码方式');
					要以流的形式写入文件，只需要不断调用write()方法，最后以end()结束；

					var fs = require('fs');

					var ws1 = fs.createWriteStream('test.json', 'utf-8');
					ws1.write('使用Stream写入文本数据...\n');
					ws1.write('111223');
					ws1.end();

					var ws2 = fs.createWriteStream('test.png');
					ws2.write(new Buffer('使用Stream写入二进制数据...\n', 'utf-8'));
					ws2.write(new Buffer('112233.', 'utf-8'));
					ws2.end();
					所有可以读取数据的流都继承自stream.Readable，所有可以写入的流都继承自stream.Writable。

					pipe
					Node.js中，Readable流有一个pipe()方法.一个Readable流和一个Writable流串起来，所有的数据自动从Readable流进入Writable流，这种操作叫pipe。

					用pipe()实现一个复制文件的程序：

					var fs = require('fs');

					var rs = fs.createReadStream('base.json');
					var ws = fs.createWriteStream('copy.json');

					rs.pipe(ws);
					默认情况下，当Readable流的数据读取完毕，end事件触发后，将自动关闭Writable流。如果我们不希望自动关闭Writable流，需要传入参数：

					readable.pipe(writable, { end: false });

				</div>
				<footer>
					--
				</footer>
			</div>
		</section>

	</div>

	<!-- Footer -->
	<div id="footer"> </div>

	<!-- Scripts -->
	<script src="../../assets/js/jquery.min.js"></script>
	<script src="../../assets/js/jquery.scrolly.min.js"></script>
	<script src="../../assets/js/jquery.scrollex.min.js"></script>
	<script src="../../assets/js/browser.min.js"></script>
	<script src="../../assets/js/breakpoints.min.js"></script>
	<script src="../../assets/js/util.js"></script>
	<script src="../../assets/js/main.js"></script>

</body>

</html>