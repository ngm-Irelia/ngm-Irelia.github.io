<!DOCTYPE HTML>
<!--
	Prologue by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>Prologue by HTML5 UP</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="../../assets/css/main.css" />
</head>

<body class="is-preload">

	<!-- Header -->
	<div id="header">

		<div class="top">

			<!-- Logo -->
			<div id="logo">
				<span class="image avatar48"><img src="images/avatar.jpg" alt="" /></span>
				<h1 id="title">Jane Doe</h1>
				<p>Hyperspace Engineer</p>
			</div>

			<!-- Nav -->
			<nav id="nav">
				<ul>
					<li><a href="#top" id="top-link"><span class="icon solid fa-home">Intro</span></a></li>
					<li><a href="#portfolio" id="portfolio-link"><span class="icon solid fa-th">Portfolio</span></a>
					</li>
					<li><a href="#about" id="about-link"><span class="icon solid fa-user">About Me</span></a></li>
					<li><a href="#contact" id="contact-link"><span class="icon solid fa-envelope">Contact</span></a>
					</li>
				</ul>
			</nav>

		</div>

		<div class="bottom">

			<!-- Social Icons -->
			<ul class="icons">
				<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
				<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
				<li><a href="#" class="icon brands fa-github"><span class="label">Github</span></a></li>
				<li><a href="#" class="icon brands fa-dribbble"><span class="label">Dribbble</span></a></li>
				<li><a href="#" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
			</ul>

		</div>

	</div>

	<!-- Main -->
	<div id="main">

		<!-- Intro -->
		<section id="top" class="one dark cover">
			<div class="container">

				<header>
					<h2 class="alt">跨域</h2>
					<p></p>
				</header>
				<div>

					什么情况下会发生跨域：
					1. 浏览器限制；
					2. 协议，域名和端口，有一个不相同
					3. 是XHR请求
					同时满足上面三个情况，才会发生 跨域 问题

					解决办法：
					1. 禁止浏览器的限制。 --- 基本不会使用
					2.jsonp使用 
					3. 服务器修改代码（支持跨域） ， 调用方修改代码，使用代理（隐藏跨域）

					jsonp的弊端：
					1.需要服务器端支持，修改代码。
					2. 只支持Get请求。
					3.发送的不是XHR请求

					简单请求 和 非简单请求： 
					简单请求：
					方法为：GET , HEAD ,POST
					请求头header中：
					a.无自定义头
					b.Content-Type为这几种：
					text/plain   multipart/form-data   application/x-www-form-urlencoded
					为简单请求。

					非简单请求： put ， delete 方法的ajax请求
					发送json格式的ajax请求
					带自定义头的ajax请求



					后端设置的请求头有：
					response.addHeader("Access-Control-Allow-Origin", "*");  // 允许跨域的ip 域名
					response.addHeader("Access-Control-Allow-Methods","*"); //允许请求方法GET等
					response.addHeader("Access-Control-Allow-Headers","Content-Type");
					response.addHeader("Access-Control-Max-Age","3600"); //预警命令options缓存时间



					带cookie的跨域 
					ajax请求，带上cookie：
					xhrFields:{
					    withCredentials:true
					}

					response.addHeader("Access-Control-Allow-Origin", "*"); 这个不能满足带cookie的跨域请求！！ 必须完成匹配。。
					需要做下判断，支持不同域名跨域
					还需添加如下字段：
					response.addHeader("Access-Control-Allow-Credentials", "true");

					带自定义头的跨域
					后端设置Access-Control-Allow-Headers 这个字段

					被调用方解决跨域的方式：
					通过nginx解决跨域： 。。。。
					从这个了解到可以转换域名呀，以前遇到的离线地图的问题，看下能不能通过nginx来解决

					sping框架解决跨域
					仅仅需要设置一个注解 ；  @CrossOrigin

					调用方解决跨域-- 隐藏跨域

					反向代理：



					node.js 使用  http-proxy-middleware 代理

				</div>
				<footer>
					--
				</footer>
			</div>
		</section>

	</div>

	<!-- Footer -->
	<div id="footer"> </div>

	<!-- Scripts -->
	<script src="../../assets/js/jquery.min.js"></script>
	<script src="../../assets/js/jquery.scrolly.min.js"></script>
	<script src="../../assets/js/jquery.scrollex.min.js"></script>
	<script src="../../assets/js/browser.min.js"></script>
	<script src="../../assets/js/breakpoints.min.js"></script>
	<script src="../../assets/js/util.js"></script>
	<script src="../../assets/js/main.js"></script>

</body>

</html>